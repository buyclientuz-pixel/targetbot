# Go-live —á–µ–∫-–ª–∏—Å—Ç Targetbot

–ß–µ–∫-–ª–∏—Å—Ç –ø–æ–º–æ–≥–∞–µ—Ç –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –≤–æ—Ä–∫–µ—Ä–∞ –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ –æ—Ç–∫—Ä—ã—Ç—å –¥–æ—Å—Ç—É–ø –∫–æ–º–∞–Ω–¥–µ –∏ –∫–ª–∏–µ–Ω—Ç–∞–º.
–ö–∞–∂–¥—ã–π –ø—É–Ω–∫—Ç –º–æ–∂–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –≤ —Ä–µ–∂–∏–º–µ ¬´–¥–∞/–Ω–µ—Ç¬ª; –µ—Å–ª–∏ –ø—É–Ω–∫—Ç –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω, –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –ø—Ä–∏—á–∏–Ω—É –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ.

## 1. –ê–∫–∫–∞—É–Ω—Ç—ã –∏ –¥–æ—Å—Ç—É–ø—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è `BOT_TOKEN`, `ADMIN_IDS`, `FB_APP_ID`, `FB_APP_SECRET`, `META_LONG_TOKEN`, `PORTAL_SIGNING_SECRET` –≤ Cloudflare.
- [ ] –°–µ–∫—Ä–µ—Ç—ã –ø—Ä–æ–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω—ã –≤ GitHub Actions (`Settings ‚Üí Secrets ‚Üí Actions`).
- [ ] –ù–∞–∑–Ω–∞—á–µ–Ω—ã –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞ —Ä–æ—Ç–∞—Ü–∏—é —Ç–æ–∫–µ–Ω–æ–≤ Meta –∏ Telegram.
- [ ] –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –±–æ—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–∏ –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ (`/admin`).

## 2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Meta
- [ ] –£—Å–ø–µ—à–Ω–æ –ø—Ä–æ–π–¥–µ–Ω —Ü–∏–∫–ª OAuth –ø–æ –∫–Ω–æ–ø–∫–µ ¬´–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –≤ Facebook¬ª.
- [ ] –í KV –ø–æ—è–≤–∏–ª—Å—è long-lived —Ç–æ–∫–µ–Ω (–∫–ª—é—á `meta:oauth:<admin_id>` –∏ –∞–≥—Ä–µ–≥–∞—Ç `meta:status`).
- [ ] –í –∞–¥–º–∏–Ω–∫–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ä–µ–∫–ª–∞–º–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã –∏ —Å—Ç–∞—Ç—É—Å—ã –ø–ª–∞—Ç–µ–∂–µ–π –±–µ–∑ –æ—à–∏–±–æ–∫ Graph API.
- [ ] `/manage/meta?token=<META_MANAGE_TOKEN>&action=refresh` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTTP 200 –∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

## 3. Telegram –∏ –≤–µ–±—Ö—É–∫
- [ ] `npm run check:config -- --ping-telegram` –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫.
- [ ] `/health?ping=telegram&telegram_logs=1` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–≤–µ–∂—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é `getWebhookInfo`.
- [ ] –ö–Ω–æ–ø–∫–∞ ¬´üîÅ –í–µ–±—Ö—É–∫¬ª –≤ –∞–¥–º–∏–Ω–∫–µ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª—è–µ—Ç –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç webhook.
- [ ] –ö–æ–º–∞–Ω–¥–∞ `/pingtest` –≤—ã–¥–∞—ë—Ç 10 —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞ 10 —Å–µ–∫—É–Ω–¥.

## 4. –ü—Ä–æ–µ–∫—Ç—ã –∏ –æ—Ç—á—ë—Ç—ã
- [ ] –ú–∞—Å—Ç–µ—Ä ¬´‚ûï –ü–æ–¥–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–µ–∫—Ç¬ª —Å–æ–∑–¥–∞–ª —Ç–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏ –≤—ã–¥–∞–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —á–∞—Ç.
- [ ] –ö–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ñ–∏–Ω–∞–Ω—Å—ã, –∫–∞–º–ø–∞–Ω–∏–∏, KPI –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –±–µ–∑ –æ—à–∏–±–æ–∫.
- [ ] –ë—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏ –æ—Ç—á—ë—Ç–æ–≤ (¬´–°–µ–≥–æ–¥–Ω—è¬ª, ¬´–í—á–µ—Ä–∞¬ª, ¬´7 –¥–Ω–µ–π¬ª, ¬´–ú–µ—Å—è—Ü¬ª) –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.
- [ ] –ê–≤—Ç–æ–ø–∞—É–∑–∞ –∏ –∞–ª–µ—Ä—Ç—ã (–Ω—É–ª–µ–≤–æ–π —Ä–∞—Å—Ö–æ–¥, –±–∏–ª–ª–∏–Ω–≥) —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –≤ —Ç–µ—Å—Ç–æ–≤–æ–º –ø—Ä–æ–µ–∫—Ç–µ (–º–æ–∂–Ω–æ —Å–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ KV).

## 5. –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –ø–æ—Ä—Ç–∞–ª
- [ ] –ù–∞ —Ç–µ—Å—Ç–æ–≤–æ–º –ø—Ä–æ–µ–∫—Ç–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Ç–æ–∫–µ–Ω –ø–æ—Ä—Ç–∞–ª–∞, —Å—Å—ã–ª–∫–∞ –∏–∑ –∞–¥–º–∏–Ω–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –±–µ–∑ –æ—à–∏–±–æ–∫.
- [ ] –ü–µ—Ä–∏–æ–¥—ã Today/Yesterday/7d/MTD –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –¥–∞–Ω–Ω—ã–º–∏, CSV-—Ñ–∞–π–ª—ã —Å–∫–∞—á–∏–≤–∞—é—Ç—Å—è.
- [ ] –§–æ—Ä–º–∞ ¬´–ù–∞–ø–∏—Å–∞—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä—É¬ª –¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –ø—Ä–æ–µ–∫—Ç–Ω—ã–π —á–∞—Ç –∏ –õ–° –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.
- [ ] –ü–æ–¥–ø–∏—Å–∏ `/p/<code>?sig=...` –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è —Å–µ—Ä–≤–µ—Ä–æ–º (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ ¬´–ª–µ–≤–æ–≥–æ¬ª —Ç–æ–∫–µ–Ω–∞ ‚Äî –æ—Ç–≤–µ—Ç 403).

## 6. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∂—É—Ä–Ω–∞–ª—ã
- [ ] –í `docs/runbook.md` —É–∫–∞–∑–∞–Ω –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–∞–∫—Ç –¥–µ–∂—É—Ä–Ω–æ–≥–æ –∏ –∫–∞–Ω–∞–ª —ç—Å–∫–∞–ª–∞—Ü–∏–∏.
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ (Telegram/Slack/email) –æ —Å–±–æ–µ CRON-–∑–∞–¥–∞—á Cloudflare.
- [ ] –•—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ (`LOGS_NAMESPACE`) –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ ‚Äî –∑–∞–ø–∏—Å–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∞–ø–¥–µ–π—Ç–∞—Ö.
- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω —ç–∫—Å–ø–æ—Ä—Ç –∂—É—Ä–Ω–∞–ª–∞ `npm run test:integration` –∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–º –∞—Ä—Ö–∏–≤–µ.

## 7. CI/CD –∏ –¥–µ–ø–ª–æ–π
- [ ] GitHub Actions workflow `deploy.yml` —É—Å–ø–µ—à–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç —Å–µ–∫—Ä–µ—Ç—ã –∏ –¥–µ–ø–ª–æ–∏—Ç –≤–æ—Ä–∫–µ—Ä.
- [ ] `npm run sync:secrets -- --env production` –ø—Ä–æ–±–æ–≤–∞–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ (–Ω–∞ —Å–ª—É—á–∞–π —Ä—É—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è).
- [ ] –ï—Å—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –ø–ª–∞–Ω –Ω–∞ —Å–ª—É—á–∞–π –æ—Ç–∫–∞—Ç–∞ (`npm run deploy -- --env staging` –∏–ª–∏ –¥—Ä—É–≥–æ–π –≤–æ—Ä–∫–µ—Ä).
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω —á–µ–∫-–ª–∏—Å—Ç smoke-—Ç–µ—Å—Ç–æ–≤ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è (health, /admin, –ø–æ—Ä—Ç–∞–ª, webhook).

## 8. –§–∏–Ω–∞–ª—å–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
- [ ] –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ –¥–∞—Ç–∞ –∑–∞–ø—É—Å–∫–∞ –∏ —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, –ø–æ–ª—É—á–∞—é—â–∏—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å—Ç–∞—Ä—Ç–µ.
- [ ] –ö–æ–º–∞–Ω–¥–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø—Ä–æ–∏–Ω—Å—Ç—Ä—É–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ —Ä–∞–±–æ—Ç–µ —Å –±–æ—Ç–æ–º (FAQ, –±—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã).
- [ ] –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª, —á—Ç–æ –≤—Å–µ –ø—É–Ω–∫—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, –ª–∏–±–æ –æ–ø–∏—Å–∞–Ω—ã –∏—Å–∫–ª—é—á–µ–Ω–∏—è.
- [ ] –û—Ç–∫—Ä—ã—Ç —Ç–∞—Å–∫/issue —Å –æ—Ç–º–µ—Ç–∫–æ–π –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ go-live –∏ —Å—Å—ã–ª–∫–æ–π –Ω–∞ —ç—Ç–æ—Ç —á–µ–∫-–ª–∏—Å—Ç.

> –•—Ä–∞–Ω–∏—Ç–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ (Notion, Confluence –∏–ª–∏ GitHub issue), —á—Ç–æ–±—ã –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ
> –±—ã–ª–æ –≤–∏–¥–Ω–æ, —á—Ç–æ —É–∂–µ –ø—Ä–æ–≤–µ—Ä—è–ª–æ—Å—å –∏ –∫–µ–º.
